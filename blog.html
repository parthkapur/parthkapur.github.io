<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog - Parth Kapur</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="./index.html" class="nav-logo">PK</a>
            <ul class="nav-menu">
                <li><a href="./index.html" class="nav-link">Home</a></li>
                <li><a href="./resume.html" class="nav-link">Resume</a></li>
                <li><a href="./blog.html" class="nav-link active">Blog</a></li>
                <li><a href="./index.html#contact" class="nav-link">Contact</a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <section class="blog-hero">
        <div class="container">
            <h1>Blog & Projects</h1>
            <p class="tagline">My latest work, research, and thoughts on AI</p>
        </div>
    </section>

    <div class="blog-grid" id="blogGrid">
        <!-- Blog posts will be loaded from JSON -->
    </div>

    <footer class="footer">
        <p>&copy; 2024 Parth Kapur. Built with ♥ and hosted on GitHub Pages.</p>
    </footer>

    <script src="./script.js"></script>
    <script>
        // Simple blog loading from JSON
        fetch('./blog-posts.json')
            .then(response => response.json())
            .then(data => {
                const blogGrid = document.getElementById('blogGrid');
                
                // Sort posts by date (newest first)
                data.posts.sort((a, b) => new Date(b.date) - new Date(a.date));
                
                // Render each post
                data.posts.forEach(post => {
                    const postCard = document.createElement('article');
                    postCard.className = 'blog-card';
                    
                    const formattedDate = new Date(post.date).toLocaleDateString('en-US', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                    
                    postCard.innerHTML = `
                        <div class="blog-date">${formattedDate}</div>
                        <h2 class="blog-title">${post.title}</h2>
                        <p class="blog-excerpt">${post.excerpt}</p>
                        ${post.content ? `<div class="blog-content">${post.content}</div>` : ''}
                        ${post.link ? `<a href="${post.link}" target="_blank" class="read-more">View Project →</a>` : ''}
                        ${post.tags ? `
                            <div class="blog-tags">
                                ${post.tags.map(tag => `<span class="blog-tag">${tag}</span>`).join('')}
                            </div>
                        ` : ''}
                    `;
                    
                    blogGrid.appendChild(postCard);
                });
            })
            .catch(error => {
                console.error('Error loading blog posts:', error);
                document.getElementById('blogGrid').innerHTML = '<p>Error loading blog posts. Please try again later.</p>';
            });
    </script>
</body>
</html>
